================================================================================

                             NODIS CASE VALIDATOR

================================================================================


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
                                Exact Match
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
{% for item in exact %}
MRN:       {{ item.1.patient.mrn }}
Condition: {{ item.1.condition }}
Date:      {{ item.1.date }}

--------------------------------------------------------------------------------
{% endfor %}
{% if not exact %}
*** NONE ***
{% endif %}

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
                              Similar Date Match
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
{% for item in similar %}
MRN:        {{ item.1.patient.mrn }}
Condition:  {{ item.1.condition }}
Known Date: {{ item.0.date }}
Nodis date: {{ item.1.date }}

--------------------------------------------------------------------------------
{% endfor %}
{% if not similar %}
*** NONE ***
{% endif %}

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
                                    Missing
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
{% for item in missing %}
MRN:       {{ item.0.mrn }}
Condition: {{ item.0.condition }}
Date:      {{ item.0.date }}
{% if item.2 %}Events: {% for event in item.2 %}
    #{{ event.pk }}  | {{ event.date }} | {{ event.heuristic }} {% endfor %}
{% endif %}
{% if item.1 %}Labs: {% for lab in item.1 %}
    #{{ lab.pk }} | {{ lab.date }} | {{ lab.native_code }} | {{ lab.native_name }}
        "{{ lab.result_string }}" | {{ lab.events.all|safeseq }} {% endfor %}
{% endif %}
{% if not item.1 or item.2 %}
    NO EVENTS OR LAB RESULTS {% endif %}
--------------------------------------------------------------------------------
{% endfor %}
{% if not missing %}
*** NONE ***
{% endif %}

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
                                      New
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
{% for item in new %}
MRN:       {{ item.patient.mrn }}
Condition: {{ item.condition }}
Date:      {{ item.date }}

--------------------------------------------------------------------------------
{% endfor %}
{% if not new %}
*** NONE ***
{% endif %}
